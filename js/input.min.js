function validateSearchInput(o){const n=o.value;let t=!0;const e=n.replace(/[^A-Za-zА-Яа-я0-9\s\-]/g,"");e!==n&&(o.value=e),e.length>0&&e.length<3?t=!1:e.length>80&&(o.value=e.substring(0,80),t=!0);const r=document.querySelector(".search-form__button");return r&&(r.disabled=!t||e.length<3),t}function setupHomePageSearch(){const o=document.querySelector(".search-form"),n=document.querySelector(".search-form__input");if(!o||!n){console.warn("\u0424\u043E\u0440\u043C\u0430 \u043F\u043E\u0448\u0443\u043A\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0456\u0439 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456");return}n.addEventListener("input",function(t){validateSearchInput(t.target)}),o.addEventListener("submit",function(t){t.preventDefault();const e=n.value.trim();e.length>=3?window.location.href=`./product.html?search=${encodeURIComponent(e)}`:console.log("Need minimum 3 characters to search")}),n.addEventListener("keypress",function(t){if(t.key==="Enter"){t.preventDefault();const e=this.value.trim();e.length>=3&&(window.location.href=`./product.html?search=${encodeURIComponent(e)}`)}}),console.log("Search setup for homepage initialized")}document.addEventListener("DOMContentLoaded",function(){(document.querySelector(".input")||window.location.pathname.includes("index.html")||window.location.pathname==="/")&&setupHomePageSearch()});
